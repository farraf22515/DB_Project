<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="style.css">
  <title>Seller</title>
  <stye>

  </stye>
</head>

<body>
  <h1> Seller </h1>
  <div>
    <p>Name <span id="usernameSeller"></span></p>
    <button onclick="showAddingForm()"> Add</button>
    <a href="customer.html">Back</a>
  </div>
  <div id="addingForm" style="display: none; transition: 1s">
    <form id="formAdding">
      <div>
        Name : <input type="text" id="add_name" value="" />
      </div>
      <div>
        stock : <input type="number" id="add_stock" value="0" />
      </div>
      <div>
        price : <input type="number" id="add_price" value="0" />
      </div>
      <button onclick={addClick()}> Add </button>
      <button onclick={closeAddingForm()}> Cancle </button>
    </form>
  </div>
  <div>
    <table id="product_table" style="width: 100vw;">
      <tr>
        <th>Product Name</th>
        <th>stock</th>
        <th>price</th>
        <th>sold</th>
        <tH>product picture</tH>
        <th>remove</th>
      </tr>
    </table>
  </div>
  <div class="showHistory" id="saleHistory">
    <table id="history_table" style="width: 75vw;">
      <tr>
        <th>Cutomer Id</th>
        <th>Product Name</th>
        <th>buy</th>
        <th>total price</th>
        <th>delivery</th>
      </tr>
    </table>
    <button onclick="closeSaleHistory()">close</button>
  </div>
  <div class="footer">
    <h3>Total Sale <span></span></h3>
    <button onclick="showSaleHistory()"> Sale History </button>
  </div>
  <button onclick="resetStore()"> reset Store </button>

  <script type="text/javascript" src="dummy.js"></script>
  <script type="text/javascript" src="storeConfig.js"></script>
  <script>
    var id = 0
    const prod = JSON.parse(getAllProduct())
    prod.forEach(doc => {
      console.log(doc)
      addingStore(doc)
    })
    function showAddingForm() {
      var form = document.getElementById("addingForm")
      form.style.display = "block"
    }

    function closeAddingForm() {
      var form = document.getElementById("addingForm")
      resetValue()
      form.style.display = "none"
    }

    function showSaleHistory() {
      document.getElementById("saleHistory").style.display = "block"
      document.querySelector("body").style.backgroundColor = "#aaaaaa"
    }

    function closeSaleHistory() {
      document.getElementById("saleHistory").style.display = "none"
      document.querySelector("body").style.backgroundColor = "#ffffff"
    }

    function addingStore(doc) {
      const innerHEML = `
      <tr id = "prod${id++}">
        <td>${doc.name}</td>
        <td>${doc.stock}</td>
        <td>${doc.price}</td>
        <td>"none"</td>
        <td>"pic"</td>
        <td><button>remove</button></td>
      </tr>
      `
      const prev = document.getElementById("product_table").innerHTML + innerHEML
      document.getElementById("product_table").innerHTML = prev
    }

    function addingSaler(doc) {

    }

    function addClick() {
      const doc = {
        name: document.getElementById("add_name").value,
        stock: parseFloat(document.getElementById("add_stock").value),
        price: parseFloat(document.getElementById("add_price").value)
      }
      addProduct(doc)
      console.log(doc)
    }

    function resetValue() {
      document.getElementById("add_name").value = ""
      document.getElementById("add_stock").value = 0
      document.getElementById("add_price").value = 0
    }


  </script>
</body>

</html>